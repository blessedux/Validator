# Submissions Endpoints - Documentation

Submissions are requests to accept transactions about new devices sended by users to admins for review. Each submission needs to be reviewed by an admin and it can be approved or rejected.

## Get Submissions

### DESCRIPTION
Gets all submissions from a wallet address.

### ENDPOINT
`/api/submissions`

### METHOD

`GET`

### (JSON) PARAMETERS

| Parameter     | Type    | Requerided          | Description                                 |
| ------------- | ------- | ------------------- | ------------------------------------------- |
| `wallet address encoded`| string | yes        | User wallet address encoded as authHeader, sended automatically from cache  |


### POSIBLE RESULTS

```json
(WIP)
```

## Get Specific Submission

### DESCRIPTION
Get specific submission by id

### ENDPOINT
`/api/submissions/:id`

### METHOD

`GET`

### (JSON) PARAMETERS

| Parameter     | Type    | Requerided          | Description                                 |
| ------------- | ------- | ------------------- | ------------------------------------------- |
| `id`          | string  | yes                 | Submission id, automatically generated by db|


### POSIBLE RESULTS

```json
(WIP)
```

## Create Submission

### DESCRIPTION
Create a new submission.

### ENDPOINT
`/api/submissions`

### METHOD

`POST`

### (JSON) PARAMETERS

| Parameter     | Type    | Requerided          | Description                                 |
| ------------- | ------- | ------------------- | ------------------------------------------- |
| `deviceName`| string  | yes                 | Input for device name|
| `deviceType`| string  | yes                 | Input for device type|
| `location`| string  | yes                 | Input for device location|
| `serialNumber`| string  | yes                 | Input for device serial number|
| `manufacturer`| string  | yes                 | Input for device manufacturer|
| `model`| string  | yes                 | Input for device model|
| `yearOfManufacture`| string  | yes                 | Input for device year of manufacture|
| `condition`| string  | yes                 | Input for device condition|
| `specifications`| string  | yes                 | Input for device specifications|
| `purchasePrice`| string  | yes                 | Input for device purchase price|
| `currentValue`| string  | yes                 | Input for device current value|
| `expectedValue`| string  | yes                 | Input for device expected value|
| `operationalCost`| string  | yes                 | Input for device operational cost|
| `technicalCetificationId`| file  | no                 | Document for device technical certification|
| `purchaseProofId`| file  | no                 | Document for device purchase proof|
| `maintenanceRecordsId`| file  | no                 | Document for device maintenance records|
| `deviceImageID`| file  | no                 | Document for device device image|

### POSIBLE RESULTS

```json
(WIP)
```

## Update Submission Status

### DESCRIPTION
Updates the status of a submission. Used by admins to approve or reject the submission.

### ENDPOINT
`/api/submissions/:id/status`

### METHOD

`PUT`

### (JSON) PARAMETERS

| Parameter     | Type    | Requerided          | Description                                 |
| ------------- | ------- | ------------------- | ------------------------------------------- |
| `wallet address encoded`| string | yes        | User wallet address encoded as authHeader, sended automatically from cache  |
| `status`| string | yes        | Status of the submission, can be APPROVE or REJECT |
| `adminNotes`| string | yes        | Admin review for the submission |

### POSIBLE RESULTS

```json
(WIP)
```

## Create Admin Review

### DESCRIPTION
Create a new admin review for a submission.

### ENDPOINT
`/api/admin-reviews`

### METHOD

`POST`

### (JSON) PARAMETERS

| Parameter     | Type    | Requerided          | Description                                 |
| ------------- | ------- | ------------------- | ------------------------------------------- |
| `wallet address encoded`| string | yes        | User wallet address encoded as authHeader, sended automatically from cache  |
| `submission_id`| string | yes        | Submission id generated automatically in db |
| `notes`| string | yes        | Message about the submission |
| `technical_score`| string | yes        | Technical score of the submission |
| `regulatory_score`| string | yes        | Regulatory score of the submission |
| `financial_score`| string | yes        | Financial score of the submission |
| `environmental_score`| string | yes        | Environmental score of the submission |
| `overall_score`| string | yes        | Overall score of the submission |
| `decision`| string | yes        | Decision of the submission can be APPROVE or REJECT |

### POSIBLE RESULTS

```json
(WIP)
```

## Get Admin Review

### DESCRIPTION
Find admin review by submission id.

### ENDPOINT
`/api/admin-reviews/:submissionId`

### METHOD

`GET`

### (JSON) PARAMETERS

| Parameter     | Type    | Requerided          | Description                                 |
| ------------- | ------- | ------------------- | ------------------------------------------- |
| `wallet address encoded`| string | yes        | User wallet address encoded as authHeader, sended automatically from cache  |
| `submission_id`| string | yes        | Submission id generated automatically in db |

### POSIBLE RESULTS

```json
(WIP)
```
