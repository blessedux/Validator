(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{6135:function(e,t,a){Promise.resolve().then(a.bind(a,5481))},5481:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Q}});var s=a(4964),r=a(8232),n=a(5646),o=a.n(n),i=a(4262),c=a(7932),l=a(6158),d=a(8857),u=a(9542),m=["className","variant"],f=r.createElement,p=(0,d.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function g(e){var t=e.className,a=e.variant,s=(0,l.Z)(e,m);return f("div",(0,c.Z)({className:(0,u.cn)(p({variant:a}),t)},s))}var v=a(9988),x=a(9753),b=a(737),N=a(3351),h=a(7674),y=a(2278),w=a(534),k=a(5085),D=a(8491),S=a(4404),E=["className"],T=["className","children"],A=["className"],O=["className"],I=["className"],R=r.createElement,j=D.fC;D.xz;var Z=D.h_;D.x8;var C=r.forwardRef(function(e,t){var a=e.className,s=(0,l.Z)(e,E);return R(D.aV,(0,c.Z)({ref:t,className:(0,u.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a)},s))});C.displayName=D.aV.displayName;var z=r.forwardRef(function(e,t){var a=e.className,s=e.children,r=(0,l.Z)(e,T);return R(Z,null,R(C,null),R(D.VY,(0,c.Z)({ref:t,className:(0,u.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a)},r),s,R(D.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},R(S.Z,{className:"h-4 w-4"}),R("span",{className:"sr-only"},"Close"))))});z.displayName=D.VY.displayName;var _=function(e){var t=e.className,a=(0,l.Z)(e,A);return R("div",(0,c.Z)({className:(0,u.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t)},a))};_.displayName="DialogHeader";var P=r.forwardRef(function(e,t){var a=e.className,s=(0,l.Z)(e,O);return R(D.Dx,(0,c.Z)({ref:t,className:(0,u.cn)("text-lg font-semibold leading-none tracking-tight",a)},s))});P.displayName=D.Dx.displayName,r.forwardRef(function(e,t){var a=e.className,s=(0,l.Z)(e,I);return R(D.dk,(0,c.Z)({ref:t,className:(0,u.cn)("text-sm text-muted-foreground",a)},s))}).displayName=D.dk.displayName;var V=a(2581),F=r.createElement;function U(e){var t=e.isOpen,a=e.onClose,s=e.deviceData;return F(j,{open:t,onOpenChange:a},F(z,{className:"max-w-2xl"},F(_,null,F(P,{className:"flex items-center gap-2 text-destructive"},F(h.Z,{className:"h-5 w-5"}),"Device Rejection Review")),F("div",{className:"space-y-6"},F("div",{className:"bg-muted/50 p-4 rounded-lg"},F("h3",{className:"font-semibold text-foreground mb-3"},"Device Information"),F("div",{className:"grid grid-cols-2 gap-4 text-sm"},F("div",null,F("span",{className:"text-muted-foreground"},"Device Name:"),F("p",{className:"font-medium"},s.deviceName)),F("div",null,F("span",{className:"text-muted-foreground"},"Device Type:"),F("p",{className:"font-medium"},s.deviceType)),F("div",null,F("span",{className:"text-muted-foreground"},"Manufacturer:"),F("p",{className:"font-medium"},s.manufacturer)),F("div",null,F("span",{className:"text-muted-foreground"},"Submitted:"),F("p",{className:"font-medium"},s.submittedAt)))),F("div",{className:"space-y-4"},F("div",{className:"flex items-center gap-2"},F(g,{variant:"destructive"},"Rejected"),F("span",{className:"text-sm text-muted-foreground"},"Rejected on ",s.rejectedAt)),F("div",null,F("h4",{className:"font-semibold text-foreground mb-2"},"Rejection Reason"),F("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-4"},F("p",{className:"text-destructive font-medium"},s.rejectionReason))),F("div",null,F("h4",{className:"font-semibold text-foreground mb-2"},"Reviewer Notes"),F("div",{className:"bg-muted/50 rounded-lg p-4"},F("p",{className:"text-sm text-muted-foreground"},s.reviewerNotes))),F("div",{className:"flex items-center gap-2 text-sm text-muted-foreground"},F(V.Z,{className:"h-4 w-4"}),F("span",null,"Reviewed by: ",s.reviewer))),F("div",{className:"flex justify-end gap-3 pt-4 border-t"},F(i.z,{variant:"outline",onClick:a},"Close"),F(i.z,{variant:"secondary"},F(y.Z,{className:"h-4 w-4 mr-2"}),"Download Review Report")))))}var B=a(3368),M=a(2992),G=a(9977),L=a(7058),J=a(5147),q=a(697),W=a(4079),H=r.createElement;function Y(e){var t,a,s=e.isOpen,r=e.onClose,n=e.certificateData;return H(j,{open:s,onOpenChange:r},H(z,{className:"max-w-4xl max-h-[90vh] overflow-y-auto"},H(_,null,H(P,{className:"flex items-center gap-2 text-green-600"},H(M.Z,{className:"h-5 w-5"}),"TRUFA Validation Certificate")),H("div",{className:"space-y-6"},H("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-lg border border-green-200"},H("div",{className:"flex items-center justify-between"},H("div",null,H("h2",{className:"text-2xl font-bold text-foreground"},n.deviceName),H("p",{className:"text-muted-foreground"},n.deviceType," • ",n.manufacturer)),H("div",{className:"text-right"},H("div",{className:"text-3xl font-bold ".concat((t=n.trufaScore)>=90?"text-green-600":t>=80?"text-blue-600":t>=70?"text-yellow-600":"text-red-600")},n.trufaScore),H("div",{className:"text-sm px-2 py-1 rounded-full ".concat((a=n.trufaScore)>=90?"bg-green-100 text-green-800":a>=80?"bg-blue-100 text-blue-800":a>=70?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800")},"TRUFA Score")))),H("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},H("div",{className:"space-y-4"},H("h3",{className:"font-semibold text-foreground"},"Validation Details"),H("div",{className:"space-y-3"},H("div",{className:"flex justify-between"},H("span",{className:"text-muted-foreground"},"Certificate ID:"),H("span",{className:"font-mono text-sm"},n.certificateId)),H("div",{className:"flex justify-between"},H("span",{className:"text-muted-foreground"},"Validated:"),H("span",null,n.validatedAt)),H("div",{className:"flex justify-between"},H("span",{className:"text-muted-foreground"},"Validator:"),H("span",null,n.validator)),H("div",{className:"flex justify-between"},H("span",{className:"text-muted-foreground"},"Investment Grade:"),H(g,{variant:"outline"},n.investmentGrade)),H("div",{className:"flex justify-between"},H("span",{className:"text-muted-foreground"},"Risk Level:"),H(g,{variant:"outline"},n.riskLevel)))),H("div",{className:"space-y-4"},H("h3",{className:"font-semibold text-foreground"},"Validation Criteria"),H("div",{className:"space-y-3"},Object.entries(n.validationCriteria).map(function(e){var t=(0,B.Z)(e,2),a=t[0],s=t[1];return H("div",{key:a,className:"flex items-center justify-between"},H("span",{className:"capitalize"},a,":"),H("div",{className:"flex items-center gap-2"},s?H(G.Z,{className:"h-4 w-4 text-green-600"}):H("div",{className:"h-4 w-4 rounded-full border-2 border-red-300"}),H("span",{className:s?"text-green-600":"text-red-600"},s?"Passed":"Failed")))})))),H("div",{className:"bg-muted/50 p-4 rounded-lg"},H("h3",{className:"font-semibold text-foreground mb-3"},"Blockchain Verification"),H("div",{className:"flex items-center gap-2"},H(L.Z,{className:"h-4 w-4 text-green-600"}),H("span",{className:"text-sm text-muted-foreground"},"Transaction Hash:"),H("span",{className:"font-mono text-sm bg-background px-2 py-1 rounded"},n.blockchainTx.slice(0,20),"...",n.blockchainTx.slice(-20)))),H("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg border border-blue-200"},H("div",{className:"flex items-center gap-2 mb-2"},H(J.Z,{className:"h-4 w-4 text-blue-600"}),H("h3",{className:"font-semibold text-foreground"},"Investment Potential")),H("p",{className:"text-sm text-muted-foreground"},"This device has been validated and is ready for tokenization. The TRUFA score of ",n.trufaScore,"indicates strong investment potential with ",n.riskLevel.toLowerCase()," risk profile.")),H("div",{className:"flex justify-end gap-3 pt-4 border-t"},H(i.z,{variant:"outline",onClick:r},"Close"),H(i.z,{variant:"outline"},H(q.Z,{className:"h-4 w-4 mr-2"}),"Share Certificate"),H(i.z,null,H(W.Z,{className:"h-4 w-4 mr-2"}),"Download Certificate")))))}var X=a(2572),$=a(16),K=r.createElement;function Q(){var e,t,a=(0,v.useRouter)(),n=(0,$.pm)().toast,c=(0,r.useState)([]),l=c[0],d=c[1],u=(0,r.useState)([]),m=u[0],f=u[1],p=(0,r.useState)(!0),D=p[0],S=p[1],E=(0,r.useState)(null),T=E[0],A=E[1],O=(0,r.useState)(null),I=O[0],R=O[1],j=(0,r.useState)(null),Z=j[0],C=j[1],z=(0,r.useState)("submissions");z[0],z[1];var _=(e=(0,s.Z)(o().mark(function e(){var t,a,s,r,i,c,l,u,m,p,g;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,S(!0),A(null),e.prev=3,t=localStorage.getItem("authToken")){e.next=9;break}return console.log("No auth token found for submissions"),d([]),e.abrupt("return");case 9:return console.log("Auth token data:",a=JSON.parse(t)),console.log("Token being sent:",a.token?a.token.substring(0,20)+"...":"No token"),console.log("Fetching submissions from backend database..."),e.next=15,fetch("http://localhost:3001/api/submissions",{headers:{Authorization:"Bearer ".concat(a.token)}});case 15:if(!(s=e.sent).ok){e.next=24;break}return e.next=19,s.json();case 19:console.log("Submissions response:",r=e.sent),r.success?(console.log("Setting submissions to:",r.submissions||[]),d(r.submissions||[])):(console.log("Submissions API returned error:",r.error),d([])),e.next=44;break;case 24:return console.log("Submissions API request failed:",s.status,s.statusText),console.log("Falling back to frontend submissions..."),e.prev=26,e.next=29,fetch("/api/submissions",{headers:{Authorization:"Bearer ".concat(a.token)}});case 29:if(!(i=e.sent).ok){e.next=37;break}return e.next=33,i.json();case 33:(c=e.sent).success?(console.log("Using frontend submissions:",c.submissions||[]),d(c.submissions||[])):d([]),e.next=38;break;case 37:d([]);case 38:e.next=44;break;case 40:e.prev=40,e.t0=e.catch(26),console.error("Fallback submissions failed:",e.t0),d([]);case 44:e.next=50;break;case 46:e.prev=46,e.t1=e.catch(3),console.error("Error fetching submissions:",e.t1),d([]);case 50:if(e.prev=50,l=localStorage.getItem("authToken")){e.next=56;break}return console.log("No auth token found for drafts"),f([]),e.abrupt("return");case 56:return console.log("Auth token data:",u=JSON.parse(l)),console.log("Token being sent:",u.token?u.token.substring(0,20)+"...":"No token"),console.log("Fetching drafts from frontend API..."),e.next=62,fetch("/api/drafts",{headers:{Authorization:"Bearer ".concat(u.token)}});case 62:if(!(m=e.sent).ok){e.next=75;break}return e.next=66,m.json();case 66:console.log("Drafts response:",g=e.sent),console.log("Drafts response.success:",g.success),console.log("Drafts response.drafts:",g.drafts),console.log("Drafts response.drafts length:",null===(p=g.drafts)||void 0===p?void 0:p.length),console.log("Drafts response.drafts type:",typeof g.drafts),g.success?(console.log("Setting drafts to:",g.drafts||[]),f(g.drafts||[])):(console.log("Drafts API returned error:",g.error),f([])),e.next=77;break;case 75:console.log("Drafts API request failed:",m.status,m.statusText),f([]);case 77:e.next=83;break;case 79:e.prev=79,e.t2=e.catch(50),console.error("Error fetching drafts:",e.t2),f([]);case 83:e.next=90;break;case 85:e.prev=85,e.t3=e.catch(0),console.error("Error fetching data:",e.t3),A(e.t3.message||"Failed to fetch data"),n({title:"Error",description:e.t3.message||"Failed to fetch data",variant:"destructive"});case 90:return e.prev=90,S(!1),e.finish(90);case 93:case"end":return e.stop()}},e,null,[[0,85,90,93],[3,46],[26,40],[50,79]])})),function(){return e.apply(this,arguments)});(0,r.useEffect)(function(){_()},[n]);var P=function(e){console.log("\uD83D\uDD0D Editing device with ID:",e),a.push("/form?edit=".concat(e))},V=(t=(0,s.Z)(o().mark(function e(t){var a,s,r,i;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("\uD83D\uDD0D Deleting draft with ID:",t),window.confirm("Are you sure you want to delete this draft? This action cannot be undone.")){e.next=5;break}return console.log("❌ Delete cancelled by user"),e.abrupt("return");case 5:if(e.prev=5,a=localStorage.getItem("authToken")){e.next=11;break}return console.error("❌ No auth token found for delete"),n({title:"Error",description:"Authentication required",variant:"destructive"}),e.abrupt("return");case 11:return console.log("\uD83D\uDD0D Auth token data for delete:",{hasToken:!!(s=JSON.parse(a)).token,walletAddress:s.walletAddress}),console.log("\uD83D\uDD0D Sending delete request to:","/api/drafts/".concat(t)),e.next=16,fetch("/api/drafts/".concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(s.token)}});case 16:if(console.log("\uD83D\uDD0D Delete response status:",(r=e.sent).status),console.log("\uD83D\uDD0D Delete response ok:",r.ok),!r.ok){e.next=26;break}return console.log("✅ Draft deleted successfully"),n({title:"Draft Deleted",description:"The draft has been successfully deleted."}),e.next=24,_();case 24:e.next=31;break;case 26:return e.next=28,r.json();case 28:console.error("❌ Delete failed:",i=e.sent),n({title:"Error",description:i.error||"Failed to delete draft",variant:"destructive"});case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(5),console.error("❌ Error deleting draft:",e.t0),n({title:"Error",description:"Failed to delete draft",variant:"destructive"});case 37:case"end":return e.stop()}},e,null,[[5,33]])})),function(e){return t.apply(this,arguments)}),F=function(e){R(e.rejectionData)},B=function(e){C(e.certificateData)},M=function(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},G=function(e){var t=[].concat(["deviceName","deviceType","location","serialNumber","manufacturer","model","yearOfManufacture","condition","specifications","purchasePrice","currentValue","expectedRevenue","operationalCosts"],["customDeviceType"]),a=0;return t.forEach(function(t){e[t]&&""!==e[t].toString().trim()&&a++}),e.files&&e.files.length>0&&(a+=2),Math.min(Math.round(a/(t.length+2)*100),100)},L=function(e){var t="draft"===e.status?G(e):null,a=e.status;switch("PENDING"===a&&(a="pending"),"UNDER_REVIEW"===a&&(a="under review"),"APPROVED"===a&&(a="approved"),"REJECTED"===a&&(a="rejected"),a){case"draft":return K("div",{className:"flex items-center gap-2"},K(g,{variant:"secondary",className:"text-xs"},"Draft"),null!==t&&K("div",{className:"flex items-center gap-1"},K("div",{className:"w-16 bg-gray-200 rounded-full h-1.5"},K("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all duration-300",style:{width:"".concat(t,"%")}})),K("span",{className:"text-xs text-muted-foreground"},t,"%")));case"pending":return K(g,{variant:"outline",className:"text-xs"},"Pending");case"under review":return K(g,{variant:"default",className:"text-xs"},"Under Review");case"approved":return K(g,{variant:"default",className:"text-xs bg-green-600"},"Approved");case"rejected":return K(g,{variant:"destructive",className:"text-xs"},"Rejected");default:return K(g,{variant:"outline",className:"text-xs"},e.status)}},J=l.filter(function(e){return e.status&&["pending","under review","approved","rejected","PENDING","UNDER_REVIEW","APPROVED","REJECTED"].includes(e.status)}),q=m.filter(function(e){return e.status&&("draft"===e.status||"DRAFT"===e.status)});return D?K(X.a,null,K("div",{className:"relative z-10 flex items-center justify-center min-h-screen"},K(x.Z,{className:"h-8 w-8 animate-spin text-primary"}))):K(X.a,null,K("div",{className:"relative mt-20 z-10 min-h-screen py-12 px-4 sm:px-6 lg:px-8"},K("div",{className:"max-w-7xl mx-auto"},K("div",{className:"flex justify-end mb-8"},K(i.z,{onClick:function(){localStorage.removeItem("dobFormStep1Backup"),localStorage.removeItem("dobFormStep2Backup"),localStorage.removeItem("dobFormStep3Backup"),localStorage.removeItem("dobFormStep4Backup"),localStorage.removeItem("dobFormBackup"),a.push("/form")},className:"inline-flex items-center gap-2 text-base py-3 px-6 rounded-lg font-semibold shadow-md bg-blue-600 text-white hover:animate-neon-glow hover:shadow-[0_0_16px_4px_rgba(59,130,246,0.7)] focus-visible:shadow-[0_0_24px_8px_rgba(59,130,246,0.8)] transition-all duration-200"},K(b.Z,{className:"h-5 w-5"}),"Validate New Device")),T&&K("div",{className:"mb-8 p-4 bg-destructive/10 border border-destructive/20 rounded-lg bg-background/90 backdrop-blur-sm"},K("p",{className:"text-destructive text-center"},T)),K("div",{className:"overflow-x-auto mb-12"},K("table",{className:"min-w-full divide-y divide-border bg-background/90 backdrop-blur-sm rounded-lg shadow-lg"},K("thead",null,K("tr",null,K("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider"},"Device Name"),K("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider"},"Type"),K("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider"},"Location"),K("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider"},"Status"),K("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider"},"Last Updated"),K("th",{className:"px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider"},"Action"))),K("tbody",{className:"divide-y divide-border"},0===J.length?K("tr",null,K("td",{colSpan:6,className:"text-center py-12 text-muted-foreground"},"No device submissions yet.")):J.map(function(e){console.log("Rendering item:",e),console.log("Item status:",e.status),console.log("Item type:",typeof e.status);var t=e.deviceName||e.name||"Unknown Device",a=e.deviceType||"Unknown Type",s=e.location||"Not specified",r=e.status||"unknown",n=e.updatedAt||e.submittedAt||new Date().toISOString();return console.log("Processed status:",r),console.log("Is draft?","draft"===r),K("tr",{key:"".concat(r,"-").concat(e.id)},K("td",{className:"px-6 py-4 whitespace-nowrap text-foreground font-medium"},t),K("td",{className:"px-6 py-4 whitespace-nowrap text-muted-foreground"},a),K("td",{className:"px-6 py-4 whitespace-nowrap text-muted-foreground"},s),K("td",{className:"px-6 py-4 whitespace-nowrap"},L(e)),K("td",{className:"px-6 py-4 whitespace-nowrap text-muted-foreground"},M(n)),K("td",{className:"px-6 py-4 whitespace-nowrap text-right"},("approved"===r||"APPROVED"===e.status)&&K(i.z,{size:"sm",variant:"outline",className:"gap-2",onClick:function(){return B(e)}},K(N.Z,{className:"h-4 w-4"}),"View Certificate"),("rejected"===r||"REJECTED"===e.status)&&K(i.z,{size:"sm",variant:"destructive",className:"gap-2",onClick:function(){return F(e)}},K(h.Z,{className:"h-4 w-4"}),"Review Reason"),("under review"===r||"UNDER_REVIEW"===e.status||"pending"===r||"PENDING"===e.status)&&K(i.z,{size:"sm",variant:"ghost",className:"gap-2",disabled:!0},K(y.Z,{className:"h-4 w-4"}),"In Review")))})))),q.length>0&&K("div",{className:"overflow-x-auto"},K("h2",{className:"text-lg font-semibold mb-4"},"Incomplete Drafts"),K("table",{className:"min-w-full divide-y divide-border bg-background/90 backdrop-blur-sm rounded-lg shadow-lg"},K("thead",null,K("tr",null,K("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider"},"Device Name"),K("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider"},"Type"),K("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider"},"Location"),K("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider"},"Completion"),K("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider"},"Last Updated"),K("th",{className:"px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider"},"Action"))),K("tbody",{className:"divide-y divide-border"},q.map(function(e){var t=e.deviceName||e.name||"Unknown Device",a=e.deviceType||"Unknown Type",s=e.location||"Not specified",r=e.updatedAt||e.submittedAt||new Date().toISOString(),n=G(e);return K("tr",{key:"draft-".concat(e.id)},K("td",{className:"px-6 py-4 whitespace-nowrap text-foreground font-medium"},t),K("td",{className:"px-6 py-4 whitespace-nowrap text-muted-foreground"},a),K("td",{className:"px-6 py-4 whitespace-nowrap text-muted-foreground"},s),K("td",{className:"px-6 py-4 whitespace-nowrap"},K("div",{className:"flex items-center gap-1"},K("div",{className:"w-16 bg-gray-200 rounded-full h-1.5"},K("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all duration-300",style:{width:"".concat(n,"%")}})),K("span",{className:"text-xs text-muted-foreground"},n,"%"))),K("td",{className:"px-6 py-4 whitespace-nowrap text-muted-foreground"},M(r)),K("td",{className:"px-6 py-4 whitespace-nowrap text-right"},K("div",{className:"flex items-center gap-2"},K(i.z,{size:"sm",variant:"secondary",className:"gap-2",onClick:function(){return P(e.id)}},K(w.Z,{className:"h-4 w-4"}),"Continue Editing"),K(i.z,{size:"sm",variant:"destructive",className:"gap-2",onClick:function(){return V(e.id)}},K(k.Z,{className:"h-4 w-4"}),"Delete"))))})))))),I&&K(U,{isOpen:!!I,onClose:function(){return R(null)},deviceData:I}),Z&&K(Y,{isOpen:!!Z,onClose:function(){return C(null)},certificateData:Z}))}},2572:function(e,t,a){"use strict";a.d(t,{a:function(){return i}});var s=a(8232),r=a(9988),n=a(8788),o=s.createElement;function i(e){var t=e.children,a=e.fallback,i=(0,r.useRouter)(),c=(0,s.useState)(!1),l=c[0],d=c[1],u=(0,s.useState)(!0),m=u[0],f=u[1];return((0,s.useEffect)(function(){!function(){console.log("\uD83D\uDD12 AuthGuard: Checking authentication...");var e=(0,n.$8)();if(console.log("\uD83D\uDD12 AuthGuard: isAuthenticated =",e),!e){console.log("❌ AuthGuard: User not authenticated, redirecting to home"),i.push("/");return}console.log("✅ AuthGuard: User authenticated"),d(!0),f(!1)}()},[i]),m)?a||o("div",{className:"min-h-screen bg-background flex items-center justify-center"},o("div",{className:"text-center"},o("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),o("p",{className:"mt-4 text-muted-foreground"},"Checking authentication..."))):l?o(s.Fragment,null,t):null}},4262:function(e,t,a){"use strict";a.d(t,{z:function(){return m}});var s=a(7932),r=a(6158),n=a(8232),o=a(5872),i=a(8857),c=a(9542),l=["className","variant","size","asChild"],d=n.createElement,u=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=n.forwardRef(function(e,t){var a=e.className,n=e.variant,i=e.size,m=e.asChild,f=(0,r.Z)(e,l);return d(void 0!==m&&m?o.g7:"button",(0,s.Z)({className:(0,c.cn)(u({variant:n,size:i,className:a})),ref:t},f))});m.displayName="Button"},16:function(e,t,a){"use strict";a.d(t,{pm:function(){return N}});var s=a(3368),r=a(3997),n=a(7932),o=a(317),i=a(4762),c=a(8232);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){(0,i.Z)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var u=0,m=new Map,f=function(e){if(!m.has(e)){var t=setTimeout(function(){m.delete(e),x({type:"REMOVE_TOAST",toastId:e})},5e3);m.set(e,t)}},p=function(e,t){switch(t.type){case"ADD_TOAST":return d(d({},e),{},{toasts:[t.toast].concat((0,o.Z)(e.toasts)).slice(0,1)});case"UPDATE_TOAST":return d(d({},e),{},{toasts:e.toasts.map(function(e){return e.id===t.toast.id?d(d({},e),t.toast):e})});case"DISMISS_TOAST":var a=t.toastId;return a?f(a):e.toasts.forEach(function(e){f(e.id)}),d(d({},e),{},{toasts:e.toasts.map(function(e){return e.id===a||void 0===a?d(d({},e),{},{open:!1}):e})});case"REMOVE_TOAST":if(void 0===t.toastId)return d(d({},e),{},{toasts:[]});return d(d({},e),{},{toasts:e.toasts.filter(function(e){return e.id!==t.toastId})})}},g=[],v={toasts:[]};function x(e){v=p(v,e),g.forEach(function(e){e(v)})}function b(e){var t=(0,n.Z)({},((0,r.Z)(e),e)),a=(u=(u+1)%Number.MAX_SAFE_INTEGER).toString(),s=function(){return x({type:"DISMISS_TOAST",toastId:a})};return x({type:"ADD_TOAST",toast:d(d({},t),{},{id:a,open:!0,onOpenChange:function(e){e||s()}})}),{id:a,dismiss:s,update:function(e){return x({type:"UPDATE_TOAST",toast:d(d({},e),{},{id:a})})}}}function N(){var e=c.useState(v),t=(0,s.Z)(e,2),a=t[0],r=t[1];return c.useEffect(function(){return g.push(r),function(){var e=g.indexOf(r);e>-1&&g.splice(e,1)}},[a]),d(d({},a),{},{toast:b,dismiss:function(e){return x({type:"DISMISS_TOAST",toastId:e})}})}},9542:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var s=a(4947),r=a(31);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}}},function(e){e.O(0,[650,33,219,347,996,788,638,333,744],function(){return e(e.s=6135)}),_N_E=e.O()}]);